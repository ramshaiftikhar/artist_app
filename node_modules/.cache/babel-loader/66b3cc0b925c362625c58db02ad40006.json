{"ast":null,"code":"var _jsxFileName = \"/Users/ramshaiftikhar/Desktop/kt_app/src/pages/Events.js\";\nimport React from \"react\";\nimport Navbar from \"../components/Navbar/Navbar.js\";\nimport AOS from \"aos\";\nconst API_ID = \"codingbootcamp\";\n\nclass Events extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      let name;\n\n      if (this.props.test_artist) {\n        // in case this is a unit test\n        name = this.props.test_artist;\n      } else if (this.props.location) {\n        name = this.props.location.state.artist;\n      }\n\n      if (name === localStorage.getItem(\"name\")) {\n        const events = localStorage.getItem(\"events\");\n        const events_list = JSON.parse(events);\n        this.setState({\n          events: events_list\n        });\n      } else {\n        const req = await fetch(`https://rest.bandsintown.com/artists/${name}/events/?app_id=${API_ID}`);\n        const res = await req.json();\n        this.setState({\n          events: res\n        });\n        const events = JSON.stringify(res);\n        localStorage.setItem(\"events\", events);\n      }\n    };\n\n    this.state = {\n      events: []\n    };\n    AOS.init();\n  }\n\n  componentWillUnmount() {\n    AOS.refreshHard();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"steps\",\n      className: \"steps\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"number-of-events\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, this.state.events.length, \" Upcoming Events\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"event-info-display col-lg-12 col-md-6 content-item\",\n      \"data-aos\": \"fade-up\",\n      \"data-aos-delay\": \"300\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, this.state.events.map(event => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: event.id,\n        className: \"event-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        key: event.title,\n        className: \"event-heading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, \"Event Details\"), /*#__PURE__*/React.createElement(\"ul\", {\n        key: event.venue,\n        className: \"event-details-list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"event-country\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }\n      }, \"Country :\"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 52\n        }\n      }, event.venue.country)), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"event-city\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }\n      }, \"City :\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }\n      }, event.venue.city)), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"event-venue\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }\n      }, \"Venue :\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }\n      }, \" \", event.venue.name)), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"event-date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }\n      }, \"Date :\"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 49\n        }\n      }, \" \", event.datetime))), event.offers && event.offers.length > 0 && /*#__PURE__*/React.createElement(\"a\", {\n        id: \"ticket-a\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        href: `${event.offers[0].url}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        id: \"ticket-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }\n      }, \"View Offer\")), !event.offers || event.offers.length === 0 && /*#__PURE__*/React.createElement(\"button\", {\n        id: \"no-ticket-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 24\n        }\n      }, \"No Offer\"));\n    })))));\n  }\n\n}\n\nexport default Events;","map":{"version":3,"sources":["/Users/ramshaiftikhar/Desktop/kt_app/src/pages/Events.js"],"names":["React","Navbar","AOS","API_ID","Events","Component","constructor","props","componentDidMount","name","test_artist","location","state","artist","localStorage","getItem","events","events_list","JSON","parse","setState","req","fetch","res","json","stringify","setItem","init","componentWillUnmount","refreshHard","render","length","map","event","id","title","venue","country","city","datetime","offers","url"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Navbar from \"../components/Navbar/Navbar.js\";\nimport AOS from \"aos\";\nconst API_ID = \"codingbootcamp\";\n\nclass Events extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      events: [],\n    };\n    AOS.init();\n  }\n\n  componentDidMount = async () => {\n    let name;\n    if (this.props.test_artist) {\n      // in case this is a unit test\n      name = this.props.test_artist;\n    } else if (this.props.location) {\n      name = this.props.location.state.artist;\n    }\n\n    if (name === localStorage.getItem(\"name\")) {\n      const events = localStorage.getItem(\"events\");\n      const events_list = JSON.parse(events);\n      this.setState({ events: events_list });\n    } else {\n      const req = await fetch(\n        `https://rest.bandsintown.com/artists/${name}/events/?app_id=${API_ID}`\n      );\n      const res = await req.json();\n      this.setState({ events: res });\n      const events = JSON.stringify(res);\n      localStorage.setItem(\"events\", events);\n    }\n  };\n  componentWillUnmount() {\n    AOS.refreshHard();\n  }\n\n  render() {\n    return (\n      <div>\n        <Navbar />\n        <section id=\"steps\" className=\"steps\">\n          <div className=\"container\">\n            <h1 className=\"number-of-events\">\n              {this.state.events.length} Upcoming Events\n            </h1>\n            <div\n              className=\"event-info-display col-lg-12 col-md-6 content-item\"\n              data-aos=\"fade-up\"\n              data-aos-delay=\"300\"\n            >\n              {this.state.events.map((event) => {\n                return (\n                  <div key={event.id} className=\"event-card\">\n                    <h4 key={event.title} className=\"event-heading\">\n                      Event Details\n                    </h4>\n                    <ul key={event.venue} className=\"event-details-list\">\n                      <li className=\"event-country\">\n                        <strong>Country :</strong> <p>{event.venue.country}</p>\n                      </li>\n                      <li className=\"event-city\">\n                        <strong>City :</strong>\n                        <p>{event.venue.city}</p>\n                      </li>\n                      <li className=\"event-venue\">\n                        <strong>Venue :</strong>\n                        <p> {event.venue.name}</p>\n                      </li>\n                      <li className=\"event-date\">\n                        <strong>Date :</strong> <p> {event.datetime}</p>\n                      </li>\n                    </ul>\n                    {event.offers && event.offers.length > 0 && (\n                      <a id=\"ticket-a\"  \n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\" \n                      href={`${event.offers[0].url}`}>\n                        <button id=\"ticket-button\">View Offer</button>\n                      </a>\n                    )}\n                    { !event.offers || event.offers.length === 0 && (\n                       <button id=\"no-ticket-button\">No Offer</button>\n                    )\n\n                    }\n                   \n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default Events;\n"]},"metadata":{},"sourceType":"module"}